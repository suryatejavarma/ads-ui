<div class="container">

    <form class="form-inline">
        <div class="form-group mb-2">
          <label for="campaign" class="sr-only">Campaigns</label>
          <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="selectedCamapign" name="campaign">
            <option *ngFor="let campaign of campaigns" value={{campaign.id}}>{{campaign.name}}</option>
          </select>
          <button type="submit" class="btn btn-primary mb-2" data-toggle="modal" (click)="openModal()" (click)="campaignClicked()" data-target="#campaignModalLongTitle">Create Campaign</button>
        </div>

        

        <div class="form-group  mb-2">
            <label for="adsets" class="sr-only">Ad Sets : </label>
            <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="selectedAdset" name="adset">
                <option *ngFor="let adset of adSets" value={{adset.id}}>{{adset.name}}</option>
            </select>
            <button type="submit" class="btn btn-primary mb-2" data-toggle="modal" (click)="openModal()" (click)="adSetsClicked()" data-target="#campaignModalLongTitle">Create Adsets</button>

          </div>
          

          <div class="form-group mb-2">
            <label for="adCreatives" class="sr-only">Ad Creatives : </label>
            <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="selectedCreative" name="creative">
                <option *ngFor="let creative of adCreatives" value={{creative.id}}>{{creative.name}}</option>
            </select>
            <button type="submit" class="btn btn-primary mb-2" data-toggle="modal" (click)="openModal()" (click)="creativeClicked()" data-target="#campaignModalLongTitle">Create Ad Creatives</button>
          </div>
          

          <div class="form-group mb-2">
            <label for="ads" class="sr-only">Ads :</label>
            <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="selectedAd" name="ad">
                <option *ngFor="let ad of ads" value={{ad.id}}>{{ad.name}}</option>
            </select>
            <button type="submit" class="btn btn-primary mb-2" data-toggle="modal" (click)="openModal()" (click)="adsClicked()" data-target="#campaignModalLongTitle">Create Ad</button>
          </div>
          <div *ngIf="showError" class="alert alert-danger" role="alert">
            <h4 class="alert-heading">{{errorTitle}}</h4>
            <p>{{errorMsg}}</p>

           
          </div>
         
      </form>

      <div class="modal" id="campaignModalLongTitle" tabindex="-1" role="dialog" aria-labelledby="campaignModalLongTitle" aria-hidden="true" [ngStyle]="{'display':display}">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="campaignModalLongTitle" *ngIf="isCampaignClicked">Create Campaign</h5>
              <h5 class="modal-title" id="campaignModalLongTitle" *ngIf="isAdsetsClicked">Creta Ad Set</h5>
              <h5 class="modal-title" id="campaignModalLongTitle" *ngIf="isCreativeClicked">Create Ad Campaign</h5>
              <h5 class="modal-title" id="campaignModalLongTitle" *ngIf="isAdClicked">Create Ad</h5>
              <button type="button" class="close" #closebutton data-dismiss="modal" (click)="closeModal()" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div *ngIf="isCampaignClicked">
              <div class="modal-body">
                <form>
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Enter Name" [(ngModel)]="form.name" name="name">
                    </div>
                    <div class="form-group mb-2">
                      <label for="event" class="sr-only">Objectives: </label>
                      <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" id="obj" [(ngModel)]="form.objective"  name="obj">
                        <option  *ngFor="let obj of objectives" value={{obj}}>{{obj}}</option>
                      </select>
                    </div>
                    <div class="form-group mb-2">
                      <label for="buying" class="sr-only">Buying Type: </label>
                      <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" id="buying" [(ngModel)]="form.buyingType"  name="buying">
                        <option  *ngFor="let buyingType of buyingTypes" value={{buyingType}}>{{buyingType}}</option>
                      </select>
                    </div>
                    <div class="form-group mb-2">
                      <label for="assets" class="sr-only">Advantage campaign budget: </label>
                      <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="assets" [(ngModel)]="form.advCampaignBudget" name="advCampaignBudget">
                          <label class="form-check-label" for="assets">ON/OFF</label>
                      </div>
                  </div>
                    <div class="form-group">
                        <label for="sac">Special Ad Category</label>
                        <input type="type" class="form-control" id="sac" [(ngModel)]="form.specialAdCategory"  name="sac">
                      </div>

                      <div class="form-group mb-2">
                        <label for="campaign" class="sr-only">Status</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="form.status" name="status">
                          <option  value="ACTIVE">ACTIVE</option>
                          <option  value="PAUSED">PAUSED</option>
                        </select>
                      </div>
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Close</button>
              <button type="button" class="btn btn-primary" (click)="createCampaign()">Add</button>
            </div>
            </div>
            <div *ngIf="isAdsetsClicked">
              <div class="modal-body">
                <form>
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Enter Name" [(ngModel)]="adSetsForm.name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="budget">Daily Budget</label>
                        <input type="number" class="form-control" id="budget" aria-describedby="budget"  [(ngModel)]="adSetsForm.dailyBudget" name="budget">
                      </div>
                      <div class="form-group">
                        <label for="amt">Bid Amount</label>
                        <input type="number" class="form-control" id="amt" aria-describedby="amt"  [(ngModel)]="adSetsForm.bidAmount" name="amt">
                      </div>
                      <div class="form-group mb-2">
                        <label for="event" class="sr-only">Billing Event</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adSetsForm.billingEvent" name="event">
                          <option  *ngFor="let event of billingEvent" value={{event}}>{{event}}</option>
                        </select>
                      </div>
                      <div class="form-group mb-2">
                        <label for="event" class="sr-only">optimization Goal</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adSetsForm.optimizationGoal" name="goal">
                          <option  *ngFor="let goal of optimizationGoal" value={{goal}}>{{goal}}</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label for="countries">countries</label>
                        <input type="text" class="form-control" id="countries" aria-describedby="countries"  [(ngModel)]="adSetsForm.countries" name="countries">
                      </div>
                      <div class="form-group mb-2">
                        <label for="campaign" class="sr-only">Status</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adsForm.status" name="status">
                          <option  value="ACTIVE">ACTIVE</option>
                          <option  value="PAUSED">PAUSED</option>
                        </select>
                      </div>
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Close</button>
              <button type="button" class="btn btn-primary" (click)="createAdSets()">Add</button>
            </div>
            </div>
            <div *ngIf="isCreativeClicked">
              <div class="modal-body">
                <form>
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Enter Name" [(ngModel)]="adCreativeForm.name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="link">Link</label>
                        <input type="text" class="form-control" id="link" aria-describedby="link" [(ngModel)]="adCreativeForm.link" name="link">
                      </div>
                      <div class="form-group">
                        <label for="msg">Message</label>
                        <input type="text" class="form-control" id="msg" aria-describedby="msg"  [(ngModel)]="adCreativeForm.message" name="msg">
                      </div>
                      <div class="form-group mb-2">
                        <label for="es" class="sr-only">Enroll Status</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adCreativeForm.enrollStatus" name="es">
                          <option  value="OPT_IN">Optrin</option>
                          <option  value="OPT_OUT">OPt Out</option>
                        </select>
                      </div>
                      <div class="form-group mb-2">
                        <label for="status" class="sr-only">Status</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adCreativeForm.status" name="status">
                          <option  value="ACTIVE">ACTIVE</option>
                          <option  value="PAUSED">PAUSED</option>
                        </select>
                      </div>
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Close</button>
              <button type="button" class="btn btn-primary" (click)="createAdCreative()" data-toggle="modal" (click)="openModal()" data-target="#creativeModalLongTitle">Add</button>
            </div>
            </div>
            <div *ngIf="isAdClicked">
              <div class="modal-body">
                <form>
                    <div class="form-group">
                      <label for="name">Name</label>
                      <input type="text" class="form-control" id="name" aria-describedby="name" placeholder="Enter Name" [(ngModel)]="adsForm.name" name="name">
                    </div>
                      <div class="form-group mb-2">
                        <label for="campaign" class="sr-only">Status</label>
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" [(ngModel)]="adsForm.status" name="status">
                          <option  value="ACTIVE">ACTIVE</option>
                          <option  value="PAUSED">PAUSED</option>
                        </select>
                      </div>
                  </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeModal()">Close</button>
              <button type="button" class="btn btn-primary" (click)="createAds()">Add</button>
            </div>
            </div>
          </div>
        </div>
      </div>
</div>